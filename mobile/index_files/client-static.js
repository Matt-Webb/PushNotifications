function Client(e,i,n){this.firstLoad=!0,this.firstBetGotoSlip=!1,this.platformName=e,this.OSVersion=i,this.clientVersion=n,this.userAgent=this.platformName.toString(),this.disableInputs=this.isPlatform("android"),this.animationEnabled=!1,this.invalidateOldPagesIOSOnly=!0,this.invalidateOldPages=!1,this.invalidateOldPagesTime=6e5,this.invalidateOldPageWhenMaxReached=!0,this.invalidateOldPageWhenMaxReachedLimit=5,this.slip_animateChanges=!0,this.slip_animateStepChangesOnly=!0,this.slip_animateIncreaseOnly=!0,this.slip_animateOnEmpty=!1,this.slip_animateOnRefresh=!1,this.slip_animateTimeoutAfterChange=100,this.slip_animateTimeoutBeforeRemoveAnimation=-1,this.allowedStartedSelectionInSlip=!0}Client.prototype={NO_PHONE_CAPABILITIES:["iPod","iPad","Chrome"],isPlatform:function(e){return-1!=this.userAgent.toLowerCase().indexOf(e.toLowerCase())},isMissignPhoneCapabilities:function(){for(var e=!1,i=this.NO_PHONE_CAPABILITIES,n=0;n<i.length;n++)if(-1!=this.userAgent.toLowerCase().indexOf(i[n].toLowerCase())){e=!0;break}return e},shouldFirstBetAddGoToSlip:function(){return this.firstBetGotoSlip},onPageLoad:function(){window.Client.TopMenuAuthenticatedHook(),window.Client.TopMenuAutoSelectHook(),window.TopBar.autoSetButtons(),window.iScrollController.refreshScrolls(),window.Client.LongPressHook(),window.Client.BannerHook();var e=require("phone-links");e&&e.fix(),window.Client.OldNativeFixHook(),window.UserInput.init()},onDynamicLoad:function(){window.Client.LongPressHook(),window.Client.BannerHook(),window.Client.OldNativeFixHook()},onPageLeave:function(e){e&&(require("message-bus").publish("onPageLeave"),window.Stream.resetMovedOutVideo())},onPageChange:function(e){var i=require("device-info");window.Client.PageDataHook(),window.Client.TopMenuHideShowHook(),window.Client.TopMenuAuthenticatedHook(),window.Client.TopMenuAutoSelectHook(),window.TopBar.autoSetButtons(),window.iScrollController.refreshScrolls(),(this.shouldInvalidateOldPages()||this.shouldInvalidateOldPageWhenMaxReached())&&this.performInvalidation(),window.Client.CountDownHook(),window.Client.GoogleAnalyticsHook(),(null==e||1!=e.syncTransactional)&&window.Client.LongPressHook(),window.Client.BannerHook(),window.Client.ExtraSubscribeHook(),window.Core.onCoreLoadHook({innerLoad:!0}),window.Client.PhoneLinksHook(),window.Client.OldNativeFixHook(),window.Scoreboard.updateIsInPage(),this.firstLoad&&window.Client.sendScoreboardWhitelistTriggerToNative(),previousPageId=currentPageId,"slip_receipt"==currentPageId&&window.FooterFixedBar.init("betReceiptFooter",!1),i.isAndroid&&window.aScroll2Controller.init(".ascroll2-autoinit"),require("message-bus").publish("onPageChange"),window.Client.possiblyDisposeCogwheelsPage(),window.Client.ClearOldCIMBDataHook(),i.isIpadNative&&i.isIOS7OrGreater&&window.UserInput.attachEventForInput(),require("message-bus").publish("page-changed"),this.firstLoad=!1},onViewportUpdate:function(e){-1!=e.indexOf("width")&&window.iScrollController.refreshScrolls()},onTabChange:function(){var e=require("device-info");window.TopBar.autoSetButtons(),e.isAndroid?window.aScroll2Controller.init(".ascroll2-autoinit"):window.iScrollController.refreshScrolls(),window.Client.LongPressHook(),window.Client.BannerHook(),window.Core.onCoreLoadHook({innerLoad:!0}),window.Client.PageTabHook(),window.Client.OldNativeFixHook(),window.Client.ClearOldCIMBDataHook(),window.TopBetWidget.initTopBetWidget(),require("message-bus").publish("onTabChange")},handleTabOnIndexPage:function(){"home"==currentPageId&&"indexInplay"==window.LocalStorageHandler.CookieHandler.getCookie("index-tab")&&window.Tab.changeTabContentsForKnockout($_id("indexInplay"),!0)},onBackOrForwardButton:function(){"AccountMenu"in window&&window.AccountMenu.close&&window.AccountMenu.close()},onSlipSizeChanged:function(e,i,n,o){var t=e!=i,a=e>i,r=Math.abs(e-i)>1,l=0==i;if(this.slip_animateChanges&&t){var s=!0;if(this.slip_animateIncreaseOnly&&a&&(s=!1),this.slip_animateStepChangesOnly&&r&&(s=!1),!this.slip_animateOnEmpty&&l&&(s=!1),!this.slip_animateOnRefresh&&n&&(s=!1),s){var d=o.getAttribute("animateChangeId"),u=null==d?o:document.querySelector("#"+d),w=null==d?null:document.querySelector("#"+d+"-old");if(null!=u){var c=i>e;window.Util.removeClassNameIfExist(u,"slip-item-increase"),window.Util.removeClassNameIfExist(u,"slip-item-decrease"),setTimeout(function(){window.Util.addClassNameIfNotExist(u,"slip-item-"+(c?"increase":"decrease"))},this.slip_animateTimeoutAfterChange),this.slip_animateTimeoutBeforeRemoveAnimation>=0&&setTimeout(function(){window.Util.removeClassNameIfExist(u,"slip-item-"+(c?"increase":"decrease"))},this.slip_animateTimeoutAfterChange+this.slip_animateTimeoutBeforeRemoveAnimation)}if(null!=w){var c=i>e;window.Util.removeClassNameIfExist(w,"slip-item-increase"),window.Util.removeClassNameIfExist(w,"slip-item-decrease"),setTimeout(function(){window.Util.addClassNameIfNotExist(w,"slip-item-"+(c?"increase":"decrease"))},this.slip_animateTimeoutAfterChange),this.slip_animateTimeoutBeforeRemoveAnimation>=0&&setTimeout(function(){window.Util.removeClassNameIfExist(w,"slip-item-"+(c?"increase":"decrease"))},this.slip_animateTimeoutAfterChange+this.slip_animateTimeoutBeforeRemoveAnimation)}}}},shouldDisableInputs:function(){return this.disableInputs},shouldInvalidateOldPages:function(){return this.invalidateOldPages},getInvalidateOldPagesTime:function(){return this.invalidateOldPagesTime},shouldInvalidateOldPageWhenMaxReached:function(){return this.invalidateOldPageWhenMaxReached},getInvalidateOldPageWhenMaxReachedLimit:function(){return this.invalidateOldPageWhenMaxReachedLimit},handleBetSlipIdList:function(e){var i=e.getAttribute("betSlipSelections"),n=$_id(currentPageId);if(n)for(var o,t=document.querySelectorAll("[betSlipSelections]"),a=0;a<t.length;a++)o=t[a],o!=e&&n.removeAttribute("betSlipSelections");null!=i&&i.length>0&&window.BetslipSelections.setSelections(i),window.BetslipSelections.setHighlightedSelections()},performInvalidation:function(){(!this.invalidateOldPagesIOSOnly||this.invalidateOldPagesIOSOnly&&"iOSNative"in document)&&(window.PageInvalidator.step(),this.shouldInvalidateOldPages()&&window.PageInvalidator.removeOlderByTime(this.getInvalidateOldPagesTime()),this.shouldInvalidateOldPageWhenMaxReached()&&window.PageInvalidator.removeOlderByHistory(this.getInvalidateOldPageWhenMaxReachedLimit()))},getAllowedStartedSelectionInSlip:function(){return this.allowedStartedSelectionInSlip},PageDataHook:function(){"PageData"in window&&window.PageData.addPageData()},CountDownHook:function(){"Countdown"in window&&window.Countdown.refresh(currentPageId)},GoogleAnalyticsHook:function(){"GoogleAnalytics"in window&&window.GoogleAnalytics.registerCurrentPage()},LongPressHook:function(){var e=require("device-info");"LongPress"in window&&(e.android23OrLower||window.LongPressUtils.hijackOddsBoxesQuickSingleLongPressOnPage("a",'name="selectionbox"',"require('quick-single-proxy').initQuickSingle"))},BannerHook:function(){"Banner"in window&&(currentPageId&&window.Banner.pageLoad(currentPageId),previousPageId&&previousPageId!=currentPageId&&window.Banner.pageUnload(previousPageId))},PhoneLinksHook:function(){var e=require("phone-links");e&&e.fix()},SeoPixelHook:function(){var e=require("generic-business-rules");e.isFallbackSEOImplementation()?window.Client.OldSeoPixelHook():window.Client.NewSeoPixelHook()},NewSeoPixelHook:function(){var e=require("generic-business-rules");window.SEOPIXEL=e.getSeoPixelUrl(),"searchEngineReferer"in window?searchEngineReferer.findReferer():console.log("searchEngineReferer not loaded correctly")},OldSeoPixelHook:function(){"whSeTrack"in window&&window.whSeTrack.run()},TopMenuAuthenticatedHook:function(){window.Util.isMobengaWHNative()||"TopMenu"in window&&window.TopMenu.toggleAuthenticatedVersions()},TopMenuAutoSelectHook:function(){window.Util.isMobengaWHNative()||"TopMenu"in window&&window.TopMenu.autoSelect()},TopMenuHideShowHook:function(){window.Util.isMobengaWHNative()||"TopMenu"in window&&(window.TopMenu.hideTopMenuDynamic(),window.TopMenu.showTopMenuDynamic())},ExtraSubscribeHook:function(){var e=document.querySelectorAll("#"+currentPageId+' *[data-force-subscribe="true"]');if(null!=e&&e.length>0)for(var i=0;i<e.length;i++)e[i].removeAttribute("data-force-subscribe"),handleComet(e[i])},specialSingleViewHook:function(){var e=$_id("scroller");if(null!=e){for(;null!=e.firstChild&&window.Util.isTextNode(e.firstChild);)e.removeChild(e.firstChild);var i=e.firstChild;null!=i&&window.Core.showPage(i)}},optionChanged:function(e){var i=require("device-info"),n=window.Options[e];"orientation"==e&&(document.body.setAttribute("orient",n),i.isHandlingPositionFixed||window.FooterFixedBar.setPosition(!0)),"betslip-panel-open"==e&&document.body.setAttribute("betslip-panel-open",n)},OldNativeFixHook:function(){if("iOSNative"in document&&window.GenericNativeLoader.version<3&&!window.GenericNativeLoader.isAndroid()){var e=document.querySelectorAll("*[data-old-native-variant]");if(null!=e)for(var i="data-old-native-",n=0;n<e.length;n++){var o=e[n];o.removeAttribute("data-old-native-variant");for(var t=o.attributes,a=0;a<t.length;a++){var r=t[a].name,l=t[a].value;if(r.startsWith(i)){var s=r.substring(i.length);null==l||0==l.length?o.removeAttribute(s):o.setAttribute(s,l)}}}}},sendScoreboardWhitelistTriggerToNative:function(){if("iOSNative"in document&&window.GenericNativeLoader.version>=3.5&&!window.GenericNativeLoader.isAndroid()){var e=require("generic-business-rules"),i=e.getScoreboardWhitelistUrlPrefix();if("undefined"!=typeof i&&null!=i&&""!=i)for(var n=i.split(","),o=0;o<n.length;o++)document.iOSNative.sendAddWhitelistUrl(n[o])}},PageTabHook:function(){var currentPage=$_id(currentPageId);null!=currentPage&&null!=currentPage.getAttribute("data-tab-load-hook")&&eval(currentPage.getAttribute("data-tab-load-hook"))},ClearOldCIMBDataHook:function(){"CIMB"in window&&"clearCashInTimeouts"in window.CIMB&&window.CIMB.clearCashInTimeouts()},isExternalRefreshBalanceNeeded:function(e){var i=!1,n=window.Util.hasParamWithName("action",e);if(n){var o=window.Util.getParameterByName("action",e);(o.endsWith("deposit")||o.endsWith("withdraw"))&&(i=!0)}return i},possiblyDisposeCogwheelsPage:function(){if(currentPageId&&"cogwheels"!=currentPageId){var e=require("layout-engine").getRegionHandler("main");e&&(window.ExternalPageIntegration.isNavigatingAwayFromExternalPage(),e.clearRegion())}}};